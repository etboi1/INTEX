<!-- Joaquin Elizalde, Emma Frederick, Ethan Grundvig, Joshua Solano -->
<!-- Take a Survey -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Take Survey</title>

    <link href="https://fonts.googleapis.com/css2?family=DM+Serif+Display&family=Montserrat:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/styles/addStyles.css">
</head>

<body>

    <!-- NAVBAR -->
    <div class="navbar">
        <div class="brand">Ella Rises</div>
        <div>
            <a href="/">Home</a>
            <a href="/logout">Log Out</a>
        </div>
    </div>

    <a href="/viewAllSurveys" class="back-btn">← Back to Surveys</a>

    <div class="container">
        <h1>Take Survey</h1>

        <% if (error_message) { %>
            <div class="error-box"><%= error_message %></div>
        <% } %>

        <form action="/takeSurvey" method="POST">

            <div class="form-group">
                <label>Select Event Attended</label>
                <select name="reg_id" required>
                    <option value="">-- Choose an Event --</option>

                    <% events.forEach(e => { %>
                        <option value="<%= e.reg_id %>">
                            <%= e.event_name %> —
                            <%= new Date(e.event_start_date_time).toLocaleDateString() %>
                        </option>
                    <% }) %>
                </select>
            </div>

            <div class="form-group">
                <label>Satisfaction</label>
                <select name="satisfaction" required>
                    <option value="">-- Choose --</option>
                    <option>1</option><option>2</option><option>3</option>
                    <option>4</option><option>5</option>
                </select>
            </div>

            <div class="form-group">
                <label>Usefulness</label>
                <select name="usefulness" required>
                    <option value="">-- Choose --</option>
                    <option>1</option><option>2</option><option>3</option>
                    <option>4</option><option>5</option>
                </select>
            </div>

            <div class="form-group">
                <label>Instructor</label>
                <select name="instructor" required>
                    <option value="">-- Choose --</option>
                    <option>1</option><option>2</option><option>3</option>
                    <option>4</option><option>5</option>
                </select>
            </div>

            <div class="form-group">
                <label>Recommendation</label>
                <select name="recommendation" required>
                    <option value="">-- Choose --</option>
                    <option>1</option><option>2</option><option>3</option>
                    <option>4</option><option>5</option>
                </select>
            </div>

            <div class="form-group">
                <label>Additional Comments (optional)</label>
                <textarea
                    name="comments"
                    rows="3"
                    style="width:100%; padding:10px; border-radius:10px; border:2px solid #FFD8D1; background:#FFF9F6;">
                </textarea>
            </div>

            <button class="submit-btn">Submit Survey</button>

        </form>
    </div>

</body>
</html>
