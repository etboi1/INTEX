<!-- Joaquin Elizalde, Emma Frederick, Ethan Grundvig, Joshua Solano -->
<!-- This page shows the impact of donations along with a donate button -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Your Impact | Ella Rises</title>

    <!-- Brand Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=DM+Serif+Display&family=Montserrat:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/styles/mainStyles.css">
    <link rel="stylesheet" href="/styles/impactStyles.css">
</head>

<body>

    <!-- NAVBAR -->
    <nav class="navbar">
        <div class="nav-left">
            <a href="/" class="nav-brand">Ella Rises</a>
            <a href="/viewPart" class="nav-link">Participants</a>
            <!-- Only managers can view users -->
            <% if (level === "m") { %>
            <a href="/viewUsers" class="nav-link">Users</a>
            <a href="/viewRegistrations" class="nav-link">Registrations</a>
            <% } %>
            <a href="/viewEvents" class="nav-link">Events</a>
            <a href="/viewAllSurveys" class="nav-link">Survey</a>
            <a href="/viewAllMilestones" class="nav-link">Milestones</a>
            <a href="/viewAllDonations" class="nav-link">Donations</a>
            <a href="/programs" class="nav-link">Programs</a>
            <a href="/donationImpact" class="nav-link">Donate</a>
            <% if (level === "m") { %>
            <a href="/manager" class="nav-link">Manager Insights</a>
            <% } %>
        </div>

        <!-- Different button based on login status -->
        <div class="nav-right">
            <% if (login) { %>
            <a href="/logout" class="nav-login">Log Out</a>
            <% } else { %>
            <a href="/login" class="nav-login">Login</a>
            <% } %>
        </div>
    </nav>

    <!-- HEADER -->
    <header>
        <h1 class="site-title">Your Donation Impact</h1>
        <p class="tagline">See how your generosity fuels opportunity</p>
    </header>

    <!-- IMPACT CONTENT -->
    <div class="donate-bg">

        <div class="donate-card">

            <h2>How Your Donation Makes a Difference</h2>

                            <!-- KPI Section -->
            <div class="kpi-container">
                <div class="kpi">
                    <!--In a real website, we would connect these kpi's to the database, but we have these kpi's
                    on our dashboard elsewhere on the website, and we wanted these to match. The only way to do
                    that is by keeping these static, because we can't link the tableau dashboard to the live
                    database on the free account-->
                    <div class="kpi-value">31.27%</div>
                    <div class="kpi-title">STEAM Graduation Rate</div>
                    <div class="kpi-subtitle">(Percentage of Participants 22+ With STEAM Degree)</div>
                </div>

                <div class="kpi">
                    <div class="kpi-value"> <%= average_survey_score %>/5</div>
                    <div class="kpi-title">Average Participant Event Rating</div>
                </div>

                <div class="kpi">
                    <div class="kpi-value">18.99%</div>
                    <div class="kpi-title">STEAM Job Placement Rate</div>
                    <div class="kpi-subtitle">(Percentage of Participants 18+ Hired for STEAM Jobs)</div>
                </div>
            </div>

            <!-- Donation Progress -->
            <div class="section-title">Donation Progress</div>

            <div class="progress-wrapper">
                <div class="progress-bar" style="width: <%= donation_percent %>%;">
                    <span class="progress-text"><%= donation_percent %>%</span>
                </div>
                <div class="goal-marker"></div>
            </div>


            <div class="donation-amount">Raised: <%= total_donation %> &nbsp;&nbsp; | &nbsp;&nbsp; Goal: $400,000</div>

            <div class="donate-buttons">
                <a href="/publicDonate" class="nav-login">Donate Now!</a>
            </div>

        </div>
    </div>

    <!-- FOOTER -->
    <footer>
        &copy; <%= new Date().getFullYear() %> Ella Rises.
        All rights reserved. &nbsp;|&nbsp;
        <!-- Gets to 418 status code -->
        <a href="/privacy">Privacy Policy</a>
    </footer>

</body>
</html>
